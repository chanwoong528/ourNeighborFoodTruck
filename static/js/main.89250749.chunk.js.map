{"version":3,"sources":["fbase.js","components/Register.js","routes/Auth.js","img/marker_red.png","components/Map.js","routes/Home.js","components/Menu.js","components/Store.js","components/ProfileMap.js","routes/Profile.js","routes/Front.js","components/Navigation.js","components/MenuDetail.js","routes/StoreDetail.js","components/Routes.js","components/Footer.js","components/App.js","serviceWorkerRegistration.js","reportWebVitals.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseInstance","authService","auth","dbService","firestore","storage","Register","props","useState","email","setEmail","pw","setPw","onSubmitCreateUser","e","a","createUserWithEmailAndPassword","Modal","size","aria-labelledby","centered","className","onSubmit","Header","closeButton","Title","id","Body","type","onChange","target","value","placeholder","Footer","class","Button","onClick","setRegisterModal","Auth","registerModal","onSocialLogin","name","provider","GoogleAuthProvider","FacebookAuthProvider","signInWithPopup","onSubmitLogin","preventDefault","signInWithEmailAndPassword","show","onHide","kakao","window","Map","useEffect","container","document","getElementById","options","center","maps","LatLng","level","map","markers","iws","iw","collection","onSnapshot","querySnapshot","forEach","doc","data","lat","lng","pos","msg","storeName","storeType","adWeb","userId","updateMarker","new_marker","createMarker","displayMarker","position","message","image","marker","Marker","iwContent","iwRemoveable","InfoWindow","content","removable","event","addListener","infowindow","open","makeOverListener","close","setInfoWindow","markerImage","MarkerImage","Size","Point","setImage","target_marker","setPosition","console","log","getContent","setContent","setMap","setCenter","getPosition","Promise","resolve","reject","currentUser","uid","then","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","locPosition","marker_red","loadMarkersFromDB","catch","err","style","width","height","Home","EditMenuModal","menuName","editMenuName","setEditMenuName","price","editPrice","setEditPrice","detail","editDetail","setEditDetail","menuId","update","setEditMenu","Menu","editMenu","menuDes","setMenuDes","DeleteMenu","confirm","menu","delete","isStore","Card","border","display","EditStoreModal","editStoreName","setEditStoreName","editStoreType","setEditStoreType","editAdWeb","setEditAdWeb","storeId","setEditStore","MenuAddModal","setMenuName","setPrice","setDetail","onSubmitMenu","add","store","alert","required","pattern","title","Store","menus","setMenus","menuAddModal","setMenuAddModal","editStore","DeleteStore","where","get","querySnapShot","ref","snapshot","menuArray","docs","margin","isOwner","href","length","userObj","ProfileMap","cur_marker","store_name","ad_web","store_type","getGeolocation","bool","cloneMarker","checkMarkersDB","getMarkerPosFromDB","ll","latLng","changeMarkerPos","updateAndDisplayMarker","addMarkerToDB","removeMarker","hasStore","getLat","getLng","set","fetchMarkerDataFromDB","docRef","error","Error","getMap","tmp","temp","mouseEvent","StoreAddModal","setStoreName","setStoreType","setAdWeb","onSubmitStore","setStoreAddModal","Profile","stores","setStores","storeAddModal","storeArray","displayName","Front","isLoggedIn","to","Navigation","history","useHistory","Navbar","variant","Brand","as","Link","Nav","signOut","push","MenuDetail","fontSize","StoreDetail","useParams","Subtitle","Text","AppRouter","exact","path","children","Date","getFullYear","App","init","setInit","setIsLoggedIn","setUserObj","onAuthStateChanged","user","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","deferredPrompt","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","URL","process","origin","addEventListener","fetch","headers","response","contentType","status","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration","addBtn","querySelector","prompt","userChoice","choiceResult","outcome"],"mappings":"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","file":"static/js/main.89250749.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\n\r\nvar firebaseConfig = {\r\n  apiKey: 'AIzaSyChMepvIxf-flBQN3cLvmZHGnzJZm5MDXg',\r\n  authDomain: 'ourneighborfoodtruck.firebaseapp.com',\r\n  projectId: 'ourneighborfoodtruck',\r\n  storageBucket: 'ourneighborfoodtruck.appspot.com',\r\n  messagingSenderId: '401231313659',\r\n  appId: '1:401231313659:web:bd734f88e239176a508e5e',\r\n  measurementId: 'G-8ZRN1MD991',\r\n  // apiKey: process.env.REACT_APP_API_KEY,\r\n  // authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  // projectId: process.env.REACT_APP_PROJECT_ID,\r\n  // storageBucket:process.env.REACT_APP_STORAGE_BUCKET,\r\n  // messagingSenderId:process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  // appId: process.env.REACT_APP_APP_ID,\r\n  // measurementId: process.env.REACT_APP_MEASUREMENT_ID,\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport const firebaseInstance = firebase;\r\nexport const authService = firebase.auth();\r\nexport const dbService = firebase.firestore();\r\nexport const storageService = firebase.storage();\r\n\r\n","import React, { useState } from \"react\";\r\nimport { authService } from \"../fbase\";\r\nimport { Modal, Button } from \"react-bootstrap\";\r\n\r\n// register as modal.\r\n\r\nfunction Register(props) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [pw, setPw] = useState(\"\");\r\n\r\n  const onSubmitCreateUser = async (e) => {\r\n    await authService.createUserWithEmailAndPassword(email, pw);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      {...props}\r\n      size=\"lg\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <form className=\"input-form\" onSubmit={onSubmitCreateUser}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title id=\"contained-modal-title-vcenter\">회원가입</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <input\r\n            type=\"email\"\r\n            onChange={(e) => {\r\n              setEmail(e.target.value);\r\n            }}\r\n            placeholder=\"이메일을 입력해주세요\"\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            onChange={(e) => {\r\n              setPw(e.target.value);\r\n            }}\r\n            placeholder=\"비밀번호 입력해주세요\"\r\n          />\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <button type=\"submit\" class=\"btn btn-primary\">\r\n            회원가입\r\n          </button>\r\n          <Button\r\n            onClick={() => {\r\n              props.setRegisterModal(false);\r\n            }}\r\n          >\r\n            Close\r\n          </Button>\r\n        </Modal.Footer>\r\n      </form>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React, { useState } from \"react\";\r\nimport { authService, firebaseInstance } from \"../fbase\";\r\n\r\nimport Register from \"../components/Register\";\r\nimport \"../css/auth.css\";\r\n//점주 로그인\r\n\r\nfunction Auth() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [pw, setPw] = useState(\"\");\r\n  const [registerModal, setRegisterModal] = useState(false);\r\n\r\n  const onSocialLogin = async (e) => {\r\n    const {\r\n      target: { name },\r\n    } = e;\r\n    let provider;\r\n    if (name === \"google\") {\r\n      provider = new firebaseInstance.auth.GoogleAuthProvider();\r\n    } else if (name === \"facebook\") {\r\n      provider = new firebaseInstance.auth.FacebookAuthProvider();\r\n    }\r\n    await authService.signInWithPopup(provider);\r\n  };\r\n\r\n  const onSubmitLogin = async (e) => {\r\n    e.preventDefault();\r\n\r\n    await authService.signInWithEmailAndPassword(email, pw);\r\n  };\r\n  return (\r\n    <div className=\"auth-main\">\r\n      <h1>Auth</h1>\r\n      <form className=\"input-form\" onSubmit={onSubmitLogin}>\r\n        <input\r\n          type=\"email\"\r\n          onChange={(e) => {\r\n            setEmail(e.target.value);\r\n          }}\r\n          placeholder=\"이메일을 입력해주세요\"\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          onChange={(e) => {\r\n            setPw(e.target.value);\r\n          }}\r\n          placeholder=\"비밀번호 입력해주세요\"\r\n        />\r\n        \r\n        <button className=\"btn-login\" type=\"submit\"> 로그인 </button>\r\n      </form>\r\n      <div className=\"auth-btn-SNS\">\r\n        <button className=\"btn-google\" name=\"google\" onClick={onSocialLogin}>\r\n          구글\r\n        </button>\r\n        <button\r\n          className=\"btn-facebook\"\r\n          name=\"facebook\"\r\n          onClick={onSocialLogin}\r\n        >\r\n          페이스북\r\n        </button>\r\n        <button\r\n          className=\"btn-facebook\"\r\n          name=\"twitter\"\r\n          onClick={onSocialLogin}\r\n        >\r\n          트위터\r\n        </button>\r\n        <button\r\n          onClick={() => {\r\n            setRegisterModal(!registerModal);\r\n          }}\r\n        >\r\n          회원가입\r\n        </button>\r\n      </div>\r\n      {registerModal ? (\r\n        <Register\r\n          show={() => setRegisterModal(true)}\r\n          onHide={() => {\r\n            setRegisterModal(false);\r\n          }}\r\n        >\r\n          {\" \"}\r\n        </Register>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Auth;\r\n","export default \"data:image/png;base64,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\"","import React, { useEffect} from \"react\";\r\nimport { dbService, authService } from \"../fbase\";\r\nimport marker_red from \"../img/marker_red.png\";\r\n\r\nconst { kakao } = window;\r\n\r\nfunction Map() {\r\n  \r\n  useEffect(() => {\r\n  \r\n    const container = document.getElementById(\"myMap\");\r\n    const options = {\r\n      center: new kakao.maps.LatLng(33.450701, 126.570667), //여기를 바꿔야함 내 장소로\r\n      level: 4,\r\n    };\r\n    var map = new kakao.maps.Map(container, options);\r\n    var markers = {};\r\n    var iws= {};\r\n    var iw = null;\r\n    var cur_marker = null;\r\n    var userId = null;\r\n    init().then((data) => {\r\n      if (navigator.geolocation) {\r\n        // GeoLocation을 이용해서 접속 위치를 얻어옵니다\r\n        navigator.geolocation.getCurrentPosition(function (position) {\r\n          var lat = position.coords.latitude, // 위도\r\n            lng = position.coords.longitude; // 경도\r\n  \r\n          var locPosition = new kakao.maps.LatLng(lat, lng);\r\n          var message = '<div style=\"padding:5px;\">내 위치</div>';\r\n          cur_marker = createMarker(locPosition, message, marker_red);\r\n          displayMarker(cur_marker);\r\n          console.log('msg = ' + message);\r\n          map.setCenter(locPosition);\r\n        });\r\n      }\r\n      else {\r\n        var locPosition = new kakao.maps.LatLng(37.56710356826317, 126.97896911386826);\r\n        var message = \"위치 정보를 사용할수 없어요..\";\r\n        cur_marker = createMarker(locPosition, message, marker_red);\r\n        displayMarker(cur_marker);\r\n        map.setCenter(locPosition);\r\n      }\r\n  \r\n      loadMarkersFromDB();\r\n    }).catch((err) => {\r\n      console.log(\"ERRRR\", err);\r\n    });\r\n\r\n    \r\n    // if (markers != null){\r\n    //   // if the user has a saved marker position, load it from DB\r\n    //   console.log('loaded marker position from DB');\r\n\r\n    // }\r\n   \r\n    \r\n\r\n    function init() {\r\n      return new Promise((resolve, reject) => {\r\n        if (authService.currentUser) {\r\n          userId = authService.currentUser.uid;\r\n          resolve(userId);\r\n        }\r\n        else {\r\n          resolve(null);\r\n        }\r\n      });\r\n    }\r\n\r\n    async function loadMarkersFromDB() {\r\n      // const snapshot = await dbService.collection(\"markers\").get();\r\n      // return snapshot.docs.map(doc => doc.data());\r\n      \r\n      \r\n      await dbService.collection(\"markers\").onSnapshot((querySnapshot) => {\r\n        querySnapshot.forEach((doc) => {\r\n          let data = doc.data();\r\n          let lat = data.lat;\r\n          let lng = data.lng;\r\n          let pos = new kakao.maps.LatLng(lat, lng);\r\n\r\n          let msg = '<h5>'+data.storeName+'</h5><h6>'\r\n          +data.storeType+'</h6><a href='+data.adWeb+\r\n          '> 가게 SNS</a><br><a href=/ourNeighborFoodTruck/#/store/'+data.userId+'>메뉴보기</a>';\r\n         \r\n         // console.log (\"update/markers = \", markers);\r\n         // console.log (\"update/doc.id = \", doc.id);\r\n         // console.log (\"update/markers[uid] = \", markers[doc.id]);\r\n          if (markers[doc.id]){\r\n            //console.log (\"update/markers[uid] = \", markers[doc.id]);\r\n            updateMarker(markers[doc.id], pos, msg);\r\n          } else {\r\n            let new_marker = createMarker(pos, msg);\r\n            markers[doc.id] = new_marker;\r\n            displayMarker(new_marker);\r\n          }\r\n        });\r\n        \r\n      });\r\n    }\r\n\r\n    // async function loadMarkersFromDB() {\r\n      \r\n    // }\r\n\r\n    function createMarker(position, message, image) {\r\n      let marker = new kakao.maps.Marker({\r\n        // map: map,\r\n        //image: markerImage,\r\n        position: position,\r\n      });\r\n\r\n      setInfoWindow(marker, message);\r\n\r\n      if (image) {\r\n        let markerImage = new kakao.maps.MarkerImage(\r\n          image, new kakao.maps.Size(35, 35), new kakao.maps.Point(13, 34));\r\n        marker.setImage(markerImage);\r\n      }\r\n\r\n      // map.setCenter(position);\r\n      return marker;\r\n    }\r\n\r\n    function updateMarker(target_marker, pos, msg){\r\n      if (target_marker && target_marker != null){\r\n        target_marker.setPosition(pos);\r\n\r\n        // console.log(\"update/target_marker = \", target_marker);\r\n        // console.log(\"update/iws[target] = \", iws[target_marker]);\r\n        if(iws[target_marker]){\r\n          console.log(\"content? \", iws[target_marker].getContent());\r\n          iws[target_marker].setContent(msg);\r\n        } else{\r\n          \r\n        }\r\n      }\r\n      \r\n\r\n    }\r\n\r\n    function setInfoWindow(marker, msg) {\r\n      var iwContent = msg;\r\n      var iwRemoveable = true;\r\n      iw = new kakao.maps.InfoWindow({\r\n        content: iwContent,\r\n        removable: iwRemoveable,\r\n      });\r\n      iws[marker]= iw;\r\n\r\n      kakao.maps.event.addListener(marker, 'click', makeOverListener(map, marker, iw));\r\n      kakao.maps.event.addListener(map, 'click', makeOutListener(iw));\r\n    }\r\n\r\n    function displayMarker(marker, msg) {\r\n      // var imageSrc =\"../img/personIcon.png\" ; // 마커이미지의 주소입니다\r\n      // var imageSize = new kakao.maps.Size(64, 69); // 마커이미지의 크기입니다\r\n      // var imageOption = {offset: new kakao.maps.Point(27, 69)}; // 마커이미지의 옵션입니다. 마커의 좌표와 일치시킬 이미지 안에서의 좌표를 설정합니다.\r\n\r\n      // var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imageOption);\r\n     \r\n      marker.setMap(map);\r\n      if (msg) marker.map.setCenter(marker.getPosition());\r\n    }\r\n\r\n    // function removeMarkerByStoreName(storeName) {\r\n\r\n    // }\r\n\r\n    function makeOverListener(map, marker, infowindow) {\r\n      return function () {\r\n        infowindow.open(map, marker);\r\n      };\r\n    }\r\n\r\n    function makeOutListener(infowindow) {\r\n      return function () {\r\n        infowindow.close();\r\n      };\r\n    }\r\n\r\n  }, []);\r\n\r\n\r\n\r\n  return (\r\n    <div\r\n      className=\"home-map\"\r\n      id=\"myMap\"\r\n      style={{ width: \"90%\", height: \"100%\" }}\r\n    ></div>\r\n  );\r\n}\r\nexport default Map;\r\n","import React from \"react\";\r\nimport Map from \"../components/Map\";\r\n\r\nimport \"../css/home.css\";\r\n// 지도\r\n// 점주 아이콘\r\n//점주 로그인\r\n\r\nfunction Home() {\r\n  return (\r\n    <div className=\"home-main\">\r\n      <h1>Home</h1>\r\n      <div className=\"home-map-container\">\r\n        <Map />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React, { useState } from \"react\";\r\nimport { Modal, Button, Card } from \"react-bootstrap\";\r\nimport { dbService } from \"../fbase\";\r\n\r\nimport \"../css/menu.css\";\r\n// Create db and edit each category\r\n//  menu in DB has 3 Field:\r\n//  {\r\n//      Title: 김치 볶음밥,\r\n//      Price : 10000원,\r\n//      Description: 특제소스와 함께 만든 김치 볶은밥 (can be null);\r\n//      storeId:storeId\r\n//      userId :userId\r\n\r\n//  }\r\nfunction Menu(props) {\r\n  const [editMenu, setEditMenu] = useState(false);\r\n  const [menuDes, setMenuDes] = useState(true);\r\n\r\n  const DeleteMenu = async () => {\r\n    const ok = window.confirm(\"Are you sure you want to delete this menu?\");\r\n    if (ok) {\r\n      await dbService.doc(`menus/${props.menu.id}`).delete();\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"menu-main\">\r\n      {props.isStore ? (\r\n        <>\r\n          {menuDes ? (\r\n            <Card\r\n              onClick={() => {\r\n                setMenuDes(false);\r\n              }}\r\n              className=\"mr-2 mt-2 scroll-profile-menu\"\r\n              border=\"warning\"\r\n              style={{ width: \"12rem\", display: \"inline-block\" }}\r\n            >\r\n              <Card.Body>\r\n                <h4> {props.menu.menuName}</h4>\r\n                <h6> {props.menu.price}</h6>\r\n                <h6>{props.menu.detail} </h6>\r\n              </Card.Body>\r\n            </Card>\r\n          ) : (\r\n            <Card\r\n              onClick={() => {\r\n                setMenuDes(true);\r\n              }}\r\n              className=\"mr-2 mt-2 scroll-profile-menu\"\r\n              border=\"warning\"\r\n              style={{ width: \"12rem\", display: \"inline-block\" }}\r\n            >\r\n              <Card.Body>\r\n                <button\r\n                  className=\"btn btn-primary-menu mb-2\"\r\n                  onClick={() => {\r\n                    setEditMenu(!editMenu);\r\n                  }}\r\n                >\r\n                  메뉴 수정\r\n                </button>\r\n                <button\r\n                  className=\"btn btn-primary-menu-del\"\r\n                  onClick={() => {\r\n                    DeleteMenu();\r\n                  }}\r\n                >\r\n                  메뉴 제거\r\n                </button>\r\n              </Card.Body>\r\n            </Card>\r\n          )}\r\n\r\n          {editMenu && (\r\n            <EditMenuModal\r\n              menuName={props.menu.menuName}\r\n              price={props.menu.price}\r\n              detail={props.menu.detail}\r\n              menuId={props.menu.id}\r\n              setEditMenu={setEditMenu}\r\n              show={() => {\r\n                setEditMenu(true);\r\n              }}\r\n              onHide={() => {\r\n                setEditMenu(false);\r\n              }}\r\n            />\r\n          )}\r\n        </>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction EditMenuModal(props) {\r\n  const [editMenuName, setEditMenuName] = useState(props.menuName);\r\n  const [editPrice, setEditPrice] = useState(props.price);\r\n  const [editDetail, setEditDetail] = useState(props.detail);\r\n\r\n  async function onSubmitEdit(e) {\r\n    e.preventDefault();\r\n\r\n    console.log(editMenuName, props.menuName);\r\n    await dbService.doc(`menus/${props.menuId}`).update({\r\n      menuName: editMenuName,\r\n      price: editPrice,\r\n      detail: editDetail,\r\n    });\r\n    props.setEditMenu(false);\r\n  }\r\n  return (\r\n    <Modal\r\n      {...props}\r\n      size=\"lg\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <form onSubmit={onSubmitEdit}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title id=\"contained-modal-title-vcenter\">\r\n            <h4>메뉴 수정</h4>\r\n            <h6>수정하고싶은 정보 적어주세요</h6>\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div className=\"store-add-input\">\r\n            <input\r\n              type=\"text\"\r\n              onChange={(e) => {\r\n                setEditMenuName(e.target.value);\r\n              }}\r\n              value={editMenuName}\r\n              placeholder=\"메뉴이름수정\"\r\n            />\r\n          </div>\r\n          <div className=\"store-add-input\">\r\n            <input\r\n              onChange={(e) => {\r\n                setEditPrice(e.target.value);\r\n              }}\r\n              value={editPrice}\r\n              placeholder=\"가격 수정\"\r\n            />\r\n          </div>\r\n          <div className=\"store-add-input\">\r\n            <input\r\n              onChange={(e) => {\r\n                setEditDetail(e.target.value);\r\n              }}\r\n              value={editDetail}\r\n              placeholder=\"메뉴 설명 수정\"\r\n            />\r\n          </div>\r\n        </Modal.Body>\r\n\r\n        <Modal.Footer>\r\n          <button className=\"btn btn-primary\" type=\"submit\">\r\n            정보 수정\r\n          </button>\r\n          <Button className=\"btn btn-secondary\" onClick={props.onHide}>\r\n            Close\r\n          </Button>\r\n        </Modal.Footer>\r\n      </form>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default Menu;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { authService, dbService } from \"../fbase\";\r\nimport { Modal, Button, Card } from \"react-bootstrap\";\r\n\r\nimport Menu from \"./Menu\";\r\nimport \"../css/profile.css\";\r\n\r\nfunction Store(props) {\r\n  const [menus, setMenus] = useState([]);\r\n\r\n  const [menuAddModal, setMenuAddModal] = useState(false);\r\n  const [editStore, setEditStore] = useState(false);\r\n\r\n  const DeleteStore = async () => {\r\n    const ok = window.confirm(\"점포를 지울까요?\");\r\n    if (ok) {\r\n      await dbService.doc(`stores/${props.store.id}`).delete();\r\n      await dbService\r\n        .collection(\"markers\")\r\n        .doc(authService.currentUser.uid)\r\n        .delete();\r\n      let menuDel = await dbService\r\n        .collection(\"menus\")\r\n        .where(\"storeId\", \"==\", props.store.id);\r\n      menuDel.get().then((querySnapShot) => {\r\n        querySnapShot.forEach((doc) => {\r\n          doc.ref.delete();\r\n        });\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    dbService\r\n      .collection(\"menus\")\r\n      .where(\"storeId\", \"==\", props.store.id)\r\n      .onSnapshot((snapshot) => {\r\n        const menuArray = snapshot.docs.map((doc) => ({\r\n          id: doc.id,\r\n          ...doc.data(),\r\n        }));\r\n        setMenus(menuArray);\r\n      });\r\n  }, [props.store.id]);\r\n\r\n  return (\r\n    <Card className =\"text-center\" \r\n    border=\"warning\"\r\n    style={{ width: \"95%\", display: \"inline-block\", margin:\"auto \" }}>\r\n      <Card.Body>\r\n        <div className=\"store-main\">\r\n          {props.isOwner ? (\r\n            <>\r\n              <h4>{props.store.storeName}</h4>\r\n              <h5>{props.store.storeType}</h5>\r\n              <h5>\r\n                <a href={props.store.adWeb}>더보기</a>\r\n              </h5>\r\n              <h5>\r\n                 <a href={'/store/'+props.store.userId}>메뉴판 미리보기</a>\r\n              </h5>\r\n              <button\r\n                className=\"btn btn-primary\"\r\n                onClick={() => {\r\n                  setEditStore(!editStore);\r\n                }}\r\n              >\r\n                정보 수정\r\n              </button>\r\n              {editStore && (\r\n                <EditStoreModal\r\n                  storeName={props.store.storeName}\r\n                  storeType={props.store.storeType}\r\n                  adWeb={props.store.adWeb}\r\n                  storeId={props.store.id}\r\n                  setEditStore={setEditStore}\r\n                  show={() => {\r\n                    setEditStore(true);\r\n                  }}\r\n                  onHide={() => {\r\n                    setEditStore(false);\r\n                  }}\r\n                />\r\n              )}\r\n\r\n              <button\r\n                className=\"btn btn-primary\"\r\n                onClick={() => {\r\n                  setMenuAddModal(!menuAddModal);\r\n                }}\r\n              >\r\n                메뉴 추가\r\n              </button>\r\n\r\n              <button\r\n                className=\"btn btn-primary-del \"\r\n                onClick={() => {\r\n                  DeleteStore();\r\n                }}\r\n              >\r\n                점포 제거\r\n              </button>\r\n              {menus.length === 0 ? null : <h4>Menu</h4>}\r\n\r\n              {menus.map((menu) => (\r\n                <div className=\"menu-display\">\r\n                  <Menu\r\n                    menuId={menu.id}\r\n                    menu={menu}\r\n                    store={props.store}\r\n                    isStore={menu.storeId === props.store.id}\r\n                  ></Menu>\r\n                </div>\r\n              ))}\r\n            </>\r\n          ) : null}\r\n\r\n          {menuAddModal ? (\r\n            <MenuAddModal\r\n              store={props.store}\r\n              userObj={props.userObj}\r\n              show={() => {\r\n                setMenuAddModal(true);\r\n              }}\r\n              onHide={() => {\r\n                setMenuAddModal(false);\r\n              }}\r\n            />\r\n          ) : null}\r\n        </div>\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n}\r\nfunction EditStoreModal(props) {\r\n  const [editStoreName, setEditStoreName] = useState(props.storeName);\r\n  const [editStoreType, setEditStoreType] = useState(props.storeType);\r\n  const [editAdWeb, setEditAdWeb] = useState(props.adWeb);\r\n\r\n  async function onSubmitEdit(e) {\r\n    e.preventDefault();\r\n\r\n    console.log(editStoreName, props.storeName);\r\n    await dbService.doc(`stores/${props.storeId}`).update({\r\n      storeName: editStoreName,\r\n      storeType: editStoreType,\r\n      adWeb: editAdWeb,\r\n    });\r\n    props.setEditStore(false);\r\n  }\r\n  return (\r\n    <Modal\r\n      {...props}\r\n      size=\"lg\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <form onSubmit={onSubmitEdit}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title id=\"contained-modal-title-vcenter\">\r\n            <h4>점포 수정</h4>\r\n            <h6>수정하고싶은 정보 적어주세요</h6>\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div className=\"store-add-input\">\r\n            <input\r\n              type=\"text\"\r\n              onChange={(e) => {\r\n                setEditStoreName(e.target.value);\r\n              }}\r\n              value={editStoreName}\r\n              placeholder=\"점포이름수정\"\r\n            />\r\n          </div>\r\n          <div className=\"store-add-input\">\r\n            <input\r\n              onChange={(e) => {\r\n                setEditStoreType(e.target.value);\r\n              }}\r\n              value={editStoreType}\r\n              placeholder=\"점포타입수정\"\r\n            />\r\n          </div>\r\n          <div className=\"store-add-input\">\r\n            <input\r\n              onChange={(e) => {\r\n                setEditAdWeb(e.target.value);\r\n              }}\r\n              value={editAdWeb}\r\n              placeholder=\"인스타수정\"\r\n            />\r\n          </div>\r\n        </Modal.Body>\r\n\r\n        <Modal.Footer>\r\n          <button className=\"btn btn-primary\" type=\"submit\">\r\n            정보 수정\r\n          </button>\r\n          <Button className=\"btn btn-secondary\" onClick={props.onHide}>\r\n            Close\r\n          </Button>\r\n        </Modal.Footer>\r\n      </form>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction MenuAddModal(props) {\r\n  const [menuName, setMenuName] = useState(\" \");\r\n  const [price, setPrice] = useState(\"\");\r\n  const [detail, setDetail] = useState(\"\");\r\n  const onSubmitMenu = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await dbService.collection(`menus`).add({\r\n        menuName,\r\n        price,\r\n        detail,\r\n        storeId: props.store.id,\r\n      });\r\n      alert(\"menu created\");\r\n      props.onHide();\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      {...props}\r\n      size=\"lg\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <form onSubmit={onSubmitMenu}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title id=\"contained-modal-title-vcenter\">\r\n            <h4>메뉴 추가</h4>\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div className=\"store-add-input\">\r\n            <input\r\n              onChange={(e) => {\r\n                setMenuName(e.target.value);\r\n              }}\r\n              placeholder=\"메뉴이름\"\r\n              required\r\n              pattern=\".*\\S+.*\"\r\n              title=\"This field is required\"\r\n            />\r\n          </div>\r\n          <div className=\"store-add-input\">\r\n            <input\r\n              onChange={(e) => {\r\n                setPrice(e.target.value);\r\n              }}\r\n              placeholder=\"가격\"\r\n            />\r\n          </div>\r\n          <div className=\"store-add-input\">\r\n            <input\r\n              onChange={(e) => {\r\n                setDetail(e.target.value);\r\n              }}\r\n              placeholder=\"detail\"\r\n            />\r\n          </div>\r\n        </Modal.Body>\r\n\r\n        <Modal.Footer>\r\n          <button type=\"submit\" className=\"btn btn-primary\">\r\n            메뉴 추가\r\n          </button>\r\n          <Button className=\"btn btn-secondary\" onClick={props.onHide}>\r\n            Close\r\n          </Button>\r\n        </Modal.Footer>\r\n      </form>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default Store;\r\n","import React, { useEffect } from \"react\";\r\n\r\n\r\nimport { dbService, authService } from \"../fbase\";\r\nimport marker_red from \"../img/marker_red.png\";\r\n\r\nconst { kakao } = window;\r\n\r\nfunction ProfileMap(props) {\r\n  //  const checkMarker = async ()=>{\r\n  //   let data; \r\n  //   data = await dbService.collection(\"markers\").where(\"userId\", \"==\", authService.currentUser.uid).onSnapshot((snapshot) => {\r\n\r\n  //   const markerArray = snapshot.docs.map((doc) => ({\r\n\r\n  //     id: doc.id,\r\n  //     ...doc.data(),\r\n  //   }));\r\n\r\n  //  })\r\n\r\n\r\n  useEffect(() => {\r\n    const container = document.getElementById(\"pfMap\");\r\n    const options = {\r\n      center: new kakao.maps.LatLng(33.450701, 126.570667), //여기를 바꿔야함 내 장소로\r\n      level: 7,\r\n    };\r\n    let map = new kakao.maps.Map(container, options);\r\n    let iw = null;\r\n    let cur_marker = null;\r\n    let marker = null;\r\n    let locPosition = null;\r\n\r\n    let userId = null;\r\n    let store_name = null;\r\n    let ad_web = null;\r\n    let store_type = null;\r\n    let user_id = null;\r\n\r\n    init().then((data) => {\r\n      console.log(\"data.storeName =\", data.storeName, \"data.adWeb =\", data.adWeb, \"user_id =\", data.userId);\r\n\r\n      getGeolocation(true);\r\n\r\n\r\n    }).catch((err) => {\r\n      console.log(\"error: \", err);\r\n    });\r\n\r\n    // console.log(\"marker.getPosition(): \", marker.getPosition());\r\n\r\n\r\n    // checkMarkersDB(marker);\r\n\r\n    // on click\r\n    kakao.maps.event.addListener(map, \"click\", (mouseEvent) => {\r\n      console.log(mouseEvent.latLng);\r\n      var pos = mouseEvent.latLng;\r\n      var update = window.confirm(\"새 위치로 변경할까요?\");\r\n      if (update) {\r\n        // profile의 상호명 등을 받아와서 갱신\r\n        if (marker !== null && pos !== marker.getPosition() && pos !== cur_marker.getPosition()) {\r\n          // if new pos isn't equal to original pos\r\n          removeMarker(marker);\r\n          changeMarkerPos(marker, pos);\r\n          addMarkerToDB(marker);\r\n          displayMarker(marker, \"트럭 위치\");\r\n        }\r\n      } else {\r\n\r\n      }\r\n    });\r\n\r\n    function init() {\r\n      return new Promise((resolve, reject) => {\r\n        userId = authService.currentUser.uid;\r\n        dbService.collection(\"stores\").where(\"userId\", \"==\", userId)\r\n          .onSnapshot((snapshot) => {\r\n            let tmp = snapshot.docs[0];\r\n            if (tmp) {\r\n              let temp = snapshot.docs[0].data().storeName;\r\n              console.log(\"on init(), storeName:\", temp);\r\n              if (temp && temp != null) {\r\n                store_name = snapshot.docs[0].data().storeName;\r\n                ad_web = snapshot.docs[0].data().adWeb;\r\n                store_type = snapshot.docs[0].data().storeType;\r\n                user_id = snapshot.docs[0].data().userId;\r\n                resolve(tmp.data());\r\n              }\r\n            } else {\r\n              getGeolocation(false);\r\n              reject(new Error(\"errrrr\"));\r\n            }\r\n\r\n            // console.log (\"temp111 \", temp);\r\n          });\r\n      });\r\n\r\n      // setStoreName(temp);\r\n      // console.log(\"temp = \", temp);\r\n    }\r\n\r\n    function getGeolocation(bool) {\r\n      if (navigator.geolocation) {\r\n        // GeoLocation을 이용해서 접속 위치를 얻어옵니다\r\n        navigator.geolocation.getCurrentPosition(function (position) {\r\n          // console.log(\"position = \", position);\r\n          var lat = position.coords.latitude, // 위도\r\n            lng = position.coords.longitude; // 경도\r\n\r\n          locPosition = new kakao.maps.LatLng(lat, lng);\r\n          var message = '<div style=\"padding:5px;\">현재 위치</div>';\r\n          cur_marker = createMarker(locPosition, message, marker_red);\r\n          marker = cloneMarker(cur_marker);\r\n          console.log(\"cloneMarker() returned,\", marker.getPosition());\r\n          // addToDB(marker);\r\n          console.log(cur_marker ? \"gps O\" : \"gps X\");\r\n          displayMarker(cur_marker);\r\n          map.setCenter(locPosition);\r\n          // console.log(\"msg = \" + message);\r\n          if (bool) checkMarkersDB(marker);\r\n        });\r\n\r\n      } else {\r\n        locPosition = new kakao.maps.LatLng(33.450701, 126.570667);\r\n        var message = \"위치 정보를 사용할수 없어요..\";\r\n        cur_marker = createMarker(locPosition, message, marker_red);\r\n        marker = cloneMarker(cur_marker);\r\n        // addToDB(marker);\r\n        console.log(cur_marker ? \"else O\" : \"else X\");\r\n        displayMarker(cur_marker);\r\n        map.setCenter(locPosition);\r\n        if (bool) checkMarkersDB(marker);\r\n      }\r\n    }\r\n\r\n    function checkMarkersDB(target_marker) {\r\n      let latLng = new Promise((resolve, reject) => {\r\n        resolve(getMarkerPosFromDB(userId));\r\n      });\r\n      latLng.then((ll) => {\r\n        if (ll) {\r\n          // if the user has a saved marker position\r\n          console.log(\"YES, \", ll);\r\n          updateAndDisplayMarker(target_marker, ll, \"트럭 위치\");\r\n        } else {\r\n          // checkMarker(); \r\n          console.log(\"NO\");\r\n          target_marker = cloneMarker(cur_marker);\r\n          addMarkerToDB(target_marker);\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n    function createMarker(position, message, image) {\r\n      let marker = new kakao.maps.Marker({\r\n        // map: map,\r\n        //image: markerImage,\r\n        position: position,\r\n      });\r\n\r\n      setInfoWindow(marker, message);\r\n\r\n      if (image) {\r\n        let markerImage = new kakao.maps.MarkerImage(\r\n          image, new kakao.maps.Size(35, 35), new kakao.maps.Point(13, 34));\r\n        marker.setImage(markerImage);\r\n      }\r\n\r\n      // map.setCenter(position);\r\n      return marker;\r\n    }\r\n\r\n    function cloneMarker(marker) {\r\n      var new_marker = new kakao.maps.Marker({\r\n        // map: null,\r\n        //image: markerImage,\r\n        position: marker ? marker.getPosition() : null,\r\n      });\r\n      removeMarker(new_marker);\r\n      setInfoWindow(new_marker, \"트럭 위치\");\r\n      console.log(\"cloneMarker() returning new marker\");\r\n      return new_marker;\r\n    }\r\n\r\n    async function addMarkerToDB(marker) {\r\n      if (!props.hasStore) { return; }\r\n      let lat = marker.getPosition().getLat();\r\n      let lng = marker.getPosition().getLng();\r\n      let uid = authService.currentUser.uid;\r\n\r\n      let markersRef = await dbService.collection(\"markers\");\r\n      markersRef.doc(uid).set({\r\n        lat: lat,\r\n        lng: lng,\r\n        storeName: store_name,\r\n        adWeb: ad_web,\r\n        storeType: store_type,\r\n        userId:uid,\r\n      });\r\n\r\n    }\r\n\r\n    async function getMarkerPosFromDB(uid) {\r\n      let ll = await fetchMarkerDataFromDB(uid);\r\n      if (ll instanceof kakao.maps.LatLng) {\r\n        return ll;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    function fetchMarkerDataFromDB(uid) {\r\n      return new Promise(function (resolve, reject) {\r\n        let docRef = dbService.collection(\"markers\").doc(uid);\r\n        let ll = null;\r\n        docRef.get().then((doc) => {\r\n          if (!doc.data() || doc.data() == null) resolve(null);\r\n          else {\r\n            ll = new kakao.maps.LatLng(doc.data().lat, doc.data().lng);\r\n            resolve(ll);\r\n          }\r\n        }).catch((error) => {\r\n          console.log(\"error getting doc: \", error);\r\n          reject(new Error(error));\r\n        });\r\n      });\r\n    }\r\n\r\n    function changeMarkerPos(target_marker, pos) {\r\n      // if (!target_marker || target_marker == null) {\r\n      //   console.log(\"marker disappeared????\");\r\n      //   return;\r\n      // }\r\n      if (pos instanceof kakao.maps.LatLng) {\r\n\r\n        target_marker.setPosition(pos);\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n\r\n    function setInfoWindow(marker, msg) {\r\n      var iwContent = msg;\r\n      var iwRemoveable = true;\r\n      iw = new kakao.maps.InfoWindow({\r\n        content: iwContent,\r\n        removable: iwRemoveable,\r\n      });\r\n      kakao.maps.event.addListener(\r\n        marker,\r\n        \"click\",\r\n        makeOverListener(map, marker, iw)\r\n      );\r\n      kakao.maps.event.addListener(map, \"click\", makeOutListener(iw));\r\n    }\r\n    function removeInfoWindow(marker, msg) { }\r\n\r\n    function displayMarker(target_marker, msg) {\r\n      // var imageSrc =\"../img/personIcon.png\" ; // 마커이미지의 주소입니다\r\n      // var imageSize = new kakao.maps.Size(64, 69); // 마커이미지의 크기입니다\r\n      // var imageOption = {offset: new kakao.maps.Point(27, 69)}; // 마커이미지의 옵션입니다. 마커의 좌표와 일치시킬 이미지 안에서의 좌표를 설정합니다.\r\n\r\n      // var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imageOption);\r\n      target_marker.setMap(map);\r\n      if (msg) target_marker.getMap().setCenter(target_marker.getPosition());\r\n    }\r\n\r\n    function updateAndDisplayMarker(marker, latLng, msg) {\r\n      var pos = latLng;\r\n      changeMarkerPos(marker, pos);\r\n      displayMarker(marker);\r\n    }\r\n\r\n    function removeMarker(target_marker) {\r\n      if (!target_marker || target_marker == null) { return; }\r\n      target_marker.setMap(null);\r\n    }\r\n\r\n    function makeOverListener(map, marker, infowindow) {\r\n      return function () {\r\n        infowindow.open(map, marker);\r\n      };\r\n    }\r\n\r\n    function makeOutListener(infowindow) {\r\n      return function () {\r\n        infowindow.close();\r\n      };\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      className=\"profile-map\"\r\n      id=\"pfMap\"\r\n      style={{ width: \"100%\", height: \"100%\" }}\r\n    ></div>\r\n  );\r\n}\r\nexport default ProfileMap;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { authService, dbService } from \"../fbase\";\r\nimport { Modal, Button } from \"react-bootstrap\";\r\n\r\nimport Store from \"../components/Store\";\r\nimport ProfileMap from \"../components/ProfileMap\";\r\nimport \"../css/profile.css\";\r\n//디비 create && update\r\n//점주들을 위한 세팅 관리\r\n// 상호 명\r\n// 전화번호\r\n// 오늘 주소\r\n// 오늘 매뉴 -> 가격\r\n//\r\n// 점주 인스타  url -> home -> btn 점주 인스타 보러가기\r\n\r\n//점주 로그인\r\n\r\nfunction Profile(props) {\r\n  const [stores, setStores] = useState([]);\r\n\r\n  const [storeAddModal, setStoreAddModal] = useState(false);\r\n\r\n  useEffect(() => {\r\n    dbService\r\n      .collection(\"stores\")\r\n      .where(\"userId\", \"==\", authService.currentUser.uid)\r\n      .onSnapshot((snapshot) => {\r\n        const storeArray = snapshot.docs.map((doc) => ({\r\n          id: doc.id,\r\n          ...doc.data(),\r\n        }));\r\n        setStores(storeArray);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"profile-main\">\r\n      <h1> {authService.currentUser.displayName}'s Profile</h1>\r\n\r\n      <div className=\"profile-map-container\">\r\n        <ProfileMap hasStore = { stores.length === 0 }/>\r\n\r\n      </div>\r\n\r\n      {stores.length === 0 ? (\r\n       <div className =\"text-center mt-2\">\r\n       <button className=\"btn btn-primary\"\r\n          onClick={() => {\r\n            setStoreAddModal(true);\r\n          }}\r\n        >\r\n          점포 추가\r\n        </button>\r\n        </div>\r\n      ) : null}\r\n\r\n      {storeAddModal ? (\r\n        <StoreAddModal\r\n          setStoreAddModal={setStoreAddModal}\r\n          userObj={props.userObj}\r\n          show={() => {\r\n            setStoreAddModal(true);\r\n          }}\r\n          onHide={() => {\r\n            setStoreAddModal(false);\r\n          }}\r\n        />\r\n      ) : null}\r\n      {\r\n        <>\r\n          {stores.map((store) => (\r\n            <Store\r\n              key={store.id}\r\n              store={store}\r\n              userObj={props.userObj}\r\n              isOwner={props.userObj.uid === store.userId}\r\n            />\r\n          ))}\r\n        </>\r\n      }\r\n    </div>\r\n  );\r\n}\r\nfunction StoreAddModal(props) {\r\n  const [storeName, setStoreName] = useState(\"\");\r\n  const [storeType, setStoreType] = useState(\"\");\r\n  const [adWeb, setAdWeb] = useState(\"\");\r\n\r\n  const onSubmitStore = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await dbService.collection(`stores`).add({\r\n        storeName,\r\n        storeType,\r\n        adWeb,\r\n        userId: props.userObj.uid,\r\n      });\r\n      props.setStoreAddModal(false);\r\n      alert(\"STORE Created\");\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      {...props}\r\n      size=\"lg\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <form onSubmit={onSubmitStore}>\r\n        <div className =\"store-add-modal\">\r\n        <Modal.Header closeButton>\r\n          <Modal.Title id=\"contained-modal-title-vcenter\">\r\n           점포 추가\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div className=\"store-add-input\">\r\n            <input\r\n              onChange={(e) => {\r\n                setStoreName(e.target.value);\r\n              }}\r\n              placeholder=\"상호명\"\r\n              required pattern=\".*\\S+.*\" title=\"This field is required\"\r\n            />\r\n          </div>\r\n          <div className=\"store-add-input\">\r\n            <input\r\n              onChange={(e) => {\r\n                setStoreType(e.target.value);\r\n              }}\r\n              placeholder=\"음식카테고리\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"store-add-input\">\r\n            <input\r\n              onChange={(e) => {\r\n                setAdWeb(e.target.value);\r\n              }}\r\n              placeholder=\"인스타url\"\r\n            />\r\n          </div>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <div className=\"store-add-input\">\r\n            <button type=\"submit\" className=\"btn btn-primary\">\r\n              점포 등록\r\n            </button>\r\n          </div>\r\n          <Button className=\"btn btn-secondary\" onClick={props.onHide}>Close</Button>\r\n        </Modal.Footer>\r\n        </div>\r\n      </form>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\nimport { authService } from \"../fbase\";\r\nimport \"../css/front.css\";\r\n//홍보 동영상\r\n//btn 점주라면 로그인!-> auth\r\n// btn 우리동네 프드트럭 보기-> home\r\n//점주 로그인\r\n\r\nfunction Front(props) {\r\n  return (\r\n    <div className=\"front-main\">\r\n      <h1>Front</h1>\r\n\r\n      <div className=\"front-video\">\r\n        <video>홍보용 비디오</video>\r\n      </div>\r\n      <div className=\"front-btn\">\r\n        {props.isLoggedIn ? (\r\n          <Link to=\"/edit\">\r\n            <button>{authService.currentUser.displayName} </button>\r\n          </Link>\r\n        ) : (\r\n          <Link to=\"/auth\">\r\n            <button>로그인 </button>\r\n          </Link>\r\n        )}\r\n\r\n        <Link to=\"/home\">\r\n          <button>지도보기 </button>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Front;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { authService } from \"../fbase\";\r\nimport { Navbar, Nav } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"../css/navigation.css\"\r\n\r\nfunction Navigation(props) {\r\n  const history = useHistory();\r\n  const LogOut = () => {\r\n    authService.signOut();\r\n    history.push(\"/front\");\r\n  };\r\n  return (\r\n    <Navbar className=\"navbar\" variant=\"light\">\r\n      <Navbar.Brand as={Link} to=\"/\">우리동네</Navbar.Brand>\r\n      {props.isLoggedIn ? (\r\n        <Nav className=\"mr-auto\">\r\n          <Nav.Link as={Link} to=\"/home\">Home</Nav.Link>\r\n          <Nav.Link as={Link} to=\"/profile\">Profile</Nav.Link>\r\n          <Nav.Link as={Link}\r\n            to=\"/profile\"\r\n            onClick={() => {\r\n              LogOut();\r\n            }}\r\n          >\r\n            log out{\" \"}\r\n          </Nav.Link>\r\n        </Nav>\r\n      ) : (\r\n        <Nav className=\"mr-auto\">\r\n          <Nav.Link as={Link} to=\"/home\">Home</Nav.Link>\r\n          <Nav.Link as={Link} to=\"/auth\">log in </Nav.Link>\r\n        </Nav>\r\n      )}\r\n    </Navbar>\r\n  );\r\n}\r\nexport default Navigation;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { dbService } from \"../fbase\";\r\nimport { Card } from \"react-bootstrap\";\r\n\r\nimport \"../css/showstore.css\"\r\n\r\nfunction MenuDetail(props) {\r\n  const [menus, setMenus] = useState([]);\r\n  console.log(menus);\r\n  useEffect(() => {\r\n    dbService\r\n      .collection(\"menus\")\r\n      .where(\"storeId\", \"==\", props.storeId)\r\n      .onSnapshot((snapshot) => {\r\n        const menuArray = snapshot.docs.map((doc) => ({\r\n          id: doc.id,\r\n          ...doc.data(),\r\n        }));\r\n        setMenus(menuArray);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div>menudetail</div>\r\n      {menus.map((menu) => (\r\n        <>\r\n          <Card className=\"display-menu mr-2 mt-2 scroll\" border=\"warning\" style={{ width: \"12em\", display:\"inline-block\" }}>\r\n            <Card.Body>\r\n              <h5 style ={{fontSize:\"1em\"}}>{menu.menuName} </h5>\r\n              <h5 style ={{fontSize:\"0.8em\"}}>{menu.price} </h5>\r\n              <h5 style ={{fontSize:\"0.7em\"}}>{menu.detail} </h5>\r\n            </Card.Body>\r\n          </Card>\r\n          \r\n        </>\r\n      ))}\r\n    </>\r\n  );\r\n}\r\nexport default MenuDetail;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { dbService } from \"../fbase\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport { useParams } from \"react-router\";\r\n\r\nimport MenuDetail from \"../components/MenuDetail\";\r\n\r\nimport \"../css/showstore.css\"\r\n\r\n\r\nfunction StoreDetail() {\r\n  let { id } = useParams();\r\n\r\n  const [stores, setStores] = useState([]);\r\n\r\n  console.log(\"store\", stores);\r\n\r\n  useEffect(() => {\r\n    dbService\r\n      .collection(\"stores\")\r\n      .where(\"userId\", \"==\", id)\r\n      .onSnapshot((snapshot) => {\r\n        const storeArray = snapshot.docs.map((doc) => ({\r\n          id: doc.id,\r\n          ...doc.data(),\r\n        }));\r\n        setStores(storeArray);\r\n      });\r\n  }, []);\r\n  return (\r\n    <>\r\n      {stores.map((store) => (\r\n        <>\r\n          \r\n\r\n          <Card className =\"display-store text-center\" style={{ width: \"90%\",margin:\"auto \" }}>\r\n            <Card.Body>\r\n              <Card.Title> {store.storeName} </Card.Title>\r\n              <Card.Subtitle className=\"mb-2 text-muted\">\r\n                <h6>{store.storeType}</h6>\r\n              </Card.Subtitle>\r\n              <Card.Text>\r\n                \r\n               <h6> <a href={store.adWeb}> {store.storeName}' SNS </a></h6>\r\n              </Card.Text>\r\n              {\r\n                <MenuDetail storeId={store.id} />}\r\n\r\n            </Card.Body>\r\n            \r\n          </Card>\r\n        </>\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default StoreDetail;\r\n","//점주 로그인\r\nimport React from \"react\";\r\n\r\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\r\n\r\n\r\nimport Auth from \"../routes/Auth\";\r\nimport Home from \"../routes/Home\";\r\nimport Profile from \"../routes/Profile\";\r\nimport Front from \"../routes/Front\";\r\nimport Navigation from \"./Navigation\";\r\nimport StoreDetail from \"../routes/StoreDetail\";\r\n// login -> 점주 -> auth-> profile\r\n// login x -> 일반유저 -> home(지도 내위치 기반d 가까운 푸드트럭)\r\n//로그인-> can Access Profile\r\n//낫 로그인 -> can Access to auth, home Profile\r\nconst AppRouter = (props) => {\r\n  return (\r\n    <Router>\r\n      <Navigation isLoggedIn={props.isLoggedIn} />\r\n     \r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          <Front isLoggedIn={props.isLoggedIn}/>\r\n        </Route>\r\n        <Route exact path=\"/home\">\r\n          <Home />\r\n        </Route>\r\n        <Route exact path =\"/store/:id\"children={ <StoreDetail/>} />\r\n        \r\n        {props.isLoggedIn ? (\r\n          <>\r\n            <Route exact path={\"/profile\"| \"/auth\"}>\r\n            \r\n              <Profile userObj={props.userObj} />\r\n            </Route>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Route exact path={\"/auth\" | \"/profile\"}>\r\n              <Auth />\r\n            </Route>\r\n          </>\r\n        )}\r\n         \r\n      </Switch>\r\n    </Router>\r\n  );\r\n};\r\nexport default AppRouter;","import React from \"react\";\r\n\r\nimport \"../css/footer.css\";\r\n\r\nfunction Footer(){\r\n\r\nreturn(\r\n    <div className =\"footer-main\">&copy;{ (new Date().getFullYear()) } 우리동네</div>\r\n)\r\n\r\n}\r\nexport default Footer;","import React, { useEffect, useState } from \"react\";\nimport AppRouter from \"./Routes\";\nimport { authService } from \"../fbase\";\n\nimport Footer from \"./Footer\";\nfunction App() {\n  const [init, setInit] = useState(false);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [userObj, setUserObj]= useState(null);\n  useEffect(() => {\n    authService.onAuthStateChanged((user) => {\n      if (user) {\n        setIsLoggedIn(true);\n        setUserObj(user); \n      } else {\n        setIsLoggedIn(false);\n      }\n      setInit(true);\n    });\n  }, []);\n\n  return (\n    <>\n      { init \n        ? \n        <AppRouter isLoggedIn={isLoggedIn} userObj={userObj} /> \n        : \"waiting for firebase...\"\n      }\n    <Footer/>\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://cra.link/PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://cra.link/PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.');\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","const reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport \"./style.css\";\r\nimport App from './components/App';\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n    <button class=\"add-button\">Add to home screen</button>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://cra.link/PWA\r\nserviceWorkerRegistration.register();\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n\r\nlet deferredPrompt;\r\nconst addBtn = document.querySelector('.add-button');\r\naddBtn.style.display = 'block';\r\n\r\nwindow.addEventListener('beforeinstallprompt', (e) => {\r\n  e.preventDefault();\r\n  deferredPrompt = e;\r\n\r\n\r\n});\r\naddBtn.addEventListener('click', (e) => {\r\n  // hide our user interface that shows our A2HS button\r\n  addBtn.style.display = 'none';\r\n  // Show the prompt\r\n  deferredPrompt.prompt();\r\n  // Wait for the user to respond to the prompt\r\n  deferredPrompt.userChoice\r\n    .then((choiceResult) => {\r\n      if (choiceResult.outcome === 'accepted') {\r\n        console.log('User accepted the A2HS prompt');\r\n      } else {\r\n        console.log('User dismissed the A2HS prompt');\r\n      }\r\n      deferredPrompt = null;\r\n    });\r\n});"],"sourceRoot":""}