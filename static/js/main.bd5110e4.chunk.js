(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{56:function(e,t,n){},58:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},79:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(34),s=n.n(r),i=n(7),o=n(23),l=n(13),u=n(9),d=n.n(u),j=n(16),b=n(38);n(67),n(86),n(85);b.a.initializeApp({apiKey:"AIzaSyChMepvIxf-flBQN3cLvmZHGnzJZm5MDXg",authDomain:"ourneighborfoodtruck.firebaseapp.com",projectId:"ourneighborfoodtruck",storageBucket:"ourneighborfoodtruck.appspot.com",messagingSenderId:"401231313659",appId:"1:401231313659:web:bd734f88e239176a508e5e",measurementId:"G-8ZRN1MD991"});var h=b.a,O=b.a.auth(),m=b.a.firestore(),p=(b.a.storage(),n(14)),f=n(89),x=n(88),g=n(2);var v=function(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(""),o=Object(i.a)(s,2),l=o[0],u=o[1],b=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.createUserWithEmailAndPassword(a,l);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)(f.a,Object(p.a)(Object(p.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:Object(g.jsxs)("form",{className:"input-form",onSubmit:b,children:[Object(g.jsx)(f.a.Header,{closeButton:!0,children:Object(g.jsx)(f.a.Title,{id:"contained-modal-title-vcenter",children:"\ud68c\uc6d0\uac00\uc785"})}),Object(g.jsxs)(f.a.Body,{children:[Object(g.jsx)("input",{type:"email",onChange:function(e){r(e.target.value)},placeholder:"\uc774\uba54\uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694"}),Object(g.jsx)("input",{type:"password",onChange:function(e){u(e.target.value)},placeholder:"\ube44\ubc00\ubc88\ud638 \uc785\ub825\ud574\uc8fc\uc138\uc694"})]}),Object(g.jsxs)(f.a.Footer,{children:[Object(g.jsx)("button",{type:"submit",class:"btn btn-primary",children:"\ud68c\uc6d0\uac00\uc785"}),Object(g.jsx)(x.a,{onClick:function(){e.setRegisterModal(!1)},children:"Close"})]})]})}))};n(73);var w=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(i.a)(r,2),o=s[0],l=s[1],u=Object(c.useState)(!1),b=Object(i.a)(u,2),m=b[0],p=b[1],f=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===(n=t.target.name)?c=new h.auth.GoogleAuthProvider:"facebook"===n&&(c=new h.auth.FacebookAuthProvider),e.next=4,O.signInWithPopup(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,O.signInWithEmailAndPassword(n,o);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"auth-main",children:[Object(g.jsx)("h1",{children:"Auth"}),Object(g.jsxs)("form",{className:"input-form",onSubmit:x,children:[Object(g.jsx)("input",{type:"email",onChange:function(e){a(e.target.value)},placeholder:"\uc774\uba54\uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694"}),Object(g.jsx)("input",{type:"password",onChange:function(e){l(e.target.value)},placeholder:"\ube44\ubc00\ubc88\ud638 \uc785\ub825\ud574\uc8fc\uc138\uc694"}),Object(g.jsx)("button",{className:"btn-login",type:"submit",children:" \ub85c\uadf8\uc778 "})]}),Object(g.jsxs)("div",{className:"auth-btn-SNS",children:[Object(g.jsx)("button",{className:"btn-google",name:"google",onClick:f,children:"\uad6c\uae00"}),Object(g.jsx)("button",{className:"btn-facebook",name:"facebook",onClick:f,children:"\ud398\uc774\uc2a4\ubd81"}),Object(g.jsx)("button",{className:"btn-facebook",name:"twitter",onClick:f,children:"\ud2b8\uc704\ud130"}),Object(g.jsx)("button",{onClick:function(){p(!m)},children:"\ud68c\uc6d0\uac00\uc785"})]}),m?Object(g.jsx)(v,{show:function(){return p(!0)},onHide:function(){p(!1)},children:" "}):null]})},y="data:image/png;base64,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",A=window.kakao;var N=function(){return Object(c.useEffect)((function(){var e=document.getElementById("myMap"),t={center:new A.maps.LatLng(33.450701,126.570667),level:4},n=new A.maps.Map(e,t),c={},a={},r=null;function s(){return(s=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.collection("markers").onSnapshot((function(e){e.forEach((function(e){var t=e.data(),n=t.lat,a=t.lng,r=new A.maps.LatLng(n,a),s="<h5>"+t.storeName+"</h5><h6>"+t.storeType+"</h6><a href="+t.adWeb+"> \uac00\uac8c SNS</a><br><a href=/store/"+t.userId+">\uba54\ub274\ubcf4\uae30</a>";if(c[e.id])o(c[e.id],r,s);else{var u=i(r,s);c[e.id]=u,l(u)}}))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e,t,c){var s=new A.maps.Marker({position:e});if(function(e,t){var c=t,s=!0;r=new A.maps.InfoWindow({content:c,removable:s}),a[e]=r,A.maps.event.addListener(e,"click",function(e,t,n){return function(){n.open(e,t)}}(n,e,r)),A.maps.event.addListener(n,"click",(i=r,function(){i.close()}));var i}(s,t),c){var i=new A.maps.MarkerImage(c,new A.maps.Size(35,35),new A.maps.Point(13,34));s.setImage(i)}return s}function o(e,t,n){e&&null!=e&&(e.setPosition(t),a[e]&&(console.log("content? ",a[e].getContent()),a[e].setContent(n)))}function l(e,t){e.setMap(n),t&&e.map.setCenter(e.getPosition())}new Promise((function(e,t){O.currentUser?e(O.currentUser.uid):e(null)})).then((function(e){if(navigator.geolocation)navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,c=e.coords.longitude,a=new A.maps.LatLng(t,c),r='<div style="padding:5px;">\ub0b4 \uc704\uce58</div>';l(i(a,r,y)),console.log("msg = "+r),n.setCenter(a)}));else{var t=new A.maps.LatLng(37.56710356826317,126.97896911386826);l(i(t,"\uc704\uce58 \uc815\ubcf4\ub97c \uc0ac\uc6a9\ud560\uc218 \uc5c6\uc5b4\uc694..",y)),n.setCenter(t)}!function(){s.apply(this,arguments)}()})).catch((function(e){console.log("ERRRR",e)}))}),[]),Object(g.jsx)("div",{className:"home-map",id:"myMap",style:{width:"90%",height:"100%"}})};n(74);var k=function(){return Object(g.jsxs)("div",{className:"home-main",children:[Object(g.jsx)("h1",{children:"Home"}),Object(g.jsx)("div",{className:"home-map-container",children:Object(g.jsx)(N,{})})]})},S=n(92);n(75);function C(e){var t=Object(c.useState)(e.menuName),n=Object(i.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(e.price),o=Object(i.a)(s,2),l=o[0],u=o[1],b=Object(c.useState)(e.detail),h=Object(i.a)(b,2),O=h[0],v=h[1];function w(){return(w=Object(j.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),console.log(a,e.menuName),t.next=4,m.doc("menus/".concat(e.menuId)).update({menuName:a,price:l,detail:O});case 4:e.setEditMenu(!1);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(g.jsx)(f.a,Object(p.a)(Object(p.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:Object(g.jsxs)("form",{onSubmit:function(e){return w.apply(this,arguments)},children:[Object(g.jsx)(f.a.Header,{closeButton:!0,children:Object(g.jsxs)(f.a.Title,{id:"contained-modal-title-vcenter",children:[Object(g.jsx)("h4",{children:"\uba54\ub274 \uc218\uc815"}),Object(g.jsx)("h6",{children:"\uc218\uc815\ud558\uace0\uc2f6\uc740 \uc815\ubcf4 \uc801\uc5b4\uc8fc\uc138\uc694"})]})}),Object(g.jsxs)(f.a.Body,{children:[Object(g.jsx)("div",{className:"store-add-input",children:Object(g.jsx)("input",{type:"text",onChange:function(e){r(e.target.value)},value:a,placeholder:"\uba54\ub274\uc774\ub984\uc218\uc815"})}),Object(g.jsx)("div",{className:"store-add-input",children:Object(g.jsx)("input",{onChange:function(e){u(e.target.value)},value:l,placeholder:"\uac00\uaca9 \uc218\uc815"})}),Object(g.jsx)("div",{className:"store-add-input",children:Object(g.jsx)("input",{onChange:function(e){v(e.target.value)},value:O,placeholder:"\uba54\ub274 \uc124\uba85 \uc218\uc815"})})]}),Object(g.jsxs)(f.a.Footer,{children:[Object(g.jsx)("button",{className:"btn btn-primary",type:"submit",children:"\uc815\ubcf4 \uc218\uc815"}),Object(g.jsx)(x.a,{className:"btn btn-secondary",onClick:e.onHide,children:"Close"})]})]})}))}var I=function(e){var t=Object(c.useState)(!1),n=Object(i.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(!0),o=Object(i.a)(s,2),l=o[0],u=o[1],b=function(){var t=Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure you want to delete this menu?")){t.next=4;break}return t.next=4,m.doc("menus/".concat(e.menu.id)).delete();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(g.jsx)("div",{className:"menu-main",children:e.isStore?Object(g.jsxs)(g.Fragment,{children:[l?Object(g.jsx)(S.a,{onClick:function(){u(!1)},className:"mr-2 mt-2 scroll-profile-menu",border:"warning",style:{width:"12rem",display:"inline-block"},children:Object(g.jsxs)(S.a.Body,{children:[Object(g.jsxs)("h4",{children:[" ",e.menu.menuName]}),Object(g.jsxs)("h6",{children:[" ",e.menu.price]}),Object(g.jsxs)("h6",{children:[e.menu.detail," "]})]})}):Object(g.jsx)(S.a,{onClick:function(){u(!0)},className:"mr-2 mt-2 scroll-profile-menu",border:"warning",style:{width:"12rem",display:"inline-block"},children:Object(g.jsxs)(S.a.Body,{children:[Object(g.jsx)("button",{className:"btn btn-primary-menu mb-2",onClick:function(){r(!a)},children:"\uba54\ub274 \uc218\uc815"}),Object(g.jsx)("button",{className:"btn btn-primary-menu-del",onClick:function(){b()},children:"\uba54\ub274 \uc81c\uac70"})]})}),a&&Object(g.jsx)(C,{menuName:e.menu.menuName,price:e.menu.price,detail:e.menu.detail,menuId:e.menu.id,setEditMenu:r,show:function(){r(!0)},onHide:function(){r(!1)}})]}):null})};n(56);function E(e){var t=Object(c.useState)(e.storeName),n=Object(i.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(e.storeType),o=Object(i.a)(s,2),l=o[0],u=o[1],b=Object(c.useState)(e.adWeb),h=Object(i.a)(b,2),O=h[0],v=h[1];function w(){return(w=Object(j.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),console.log(a,e.storeName),t.next=4,m.doc("stores/".concat(e.storeId)).update({storeName:a,storeType:l,adWeb:O});case 4:e.setEditStore(!1);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(g.jsx)(f.a,Object(p.a)(Object(p.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:Object(g.jsxs)("form",{onSubmit:function(e){return w.apply(this,arguments)},children:[Object(g.jsx)(f.a.Header,{closeButton:!0,children:Object(g.jsxs)(f.a.Title,{id:"contained-modal-title-vcenter",children:[Object(g.jsx)("h4",{children:"\uc810\ud3ec \uc218\uc815"}),Object(g.jsx)("h6",{children:"\uc218\uc815\ud558\uace0\uc2f6\uc740 \uc815\ubcf4 \uc801\uc5b4\uc8fc\uc138\uc694"})]})}),Object(g.jsxs)(f.a.Body,{children:[Object(g.jsx)("div",{className:"store-add-input",children:Object(g.jsx)("input",{type:"text",onChange:function(e){r(e.target.value)},value:a,placeholder:"\uc810\ud3ec\uc774\ub984\uc218\uc815"})}),Object(g.jsx)("div",{className:"store-add-input",children:Object(g.jsx)("input",{onChange:function(e){u(e.target.value)},value:l,placeholder:"\uc810\ud3ec\ud0c0\uc785\uc218\uc815"})}),Object(g.jsx)("div",{className:"store-add-input",children:Object(g.jsx)("input",{onChange:function(e){v(e.target.value)},value:O,placeholder:"\uc778\uc2a4\ud0c0\uc218\uc815"})})]}),Object(g.jsxs)(f.a.Footer,{children:[Object(g.jsx)("button",{className:"btn btn-primary",type:"submit",children:"\uc815\ubcf4 \uc218\uc815"}),Object(g.jsx)(x.a,{className:"btn btn-secondary",onClick:e.onHide,children:"Close"})]})]})}))}function L(e){var t=Object(c.useState)(" "),n=Object(i.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(""),o=Object(i.a)(s,2),l=o[0],u=o[1],b=Object(c.useState)(""),h=Object(i.a)(b,2),O=h[0],v=h[1],w=function(){var t=Object(j.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,m.collection("menus").add({menuName:a,price:l,detail:O,storeId:e.store.id});case 4:alert("menu created"),e.onHide(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),alert(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(g.jsx)(f.a,Object(p.a)(Object(p.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:Object(g.jsxs)("form",{onSubmit:w,children:[Object(g.jsx)(f.a.Header,{closeButton:!0,children:Object(g.jsx)(f.a.Title,{id:"contained-modal-title-vcenter",children:Object(g.jsx)("h4",{children:"\uba54\ub274 \ucd94\uac00"})})}),Object(g.jsxs)(f.a.Body,{children:[Object(g.jsx)("div",{className:"store-add-input",children:Object(g.jsx)("input",{onChange:function(e){r(e.target.value)},placeholder:"\uba54\ub274\uc774\ub984",required:!0,pattern:".*\\S+.*",title:"This field is required"})}),Object(g.jsx)("div",{className:"store-add-input",children:Object(g.jsx)("input",{onChange:function(e){u(e.target.value)},placeholder:"\uac00\uaca9"})}),Object(g.jsx)("div",{className:"store-add-input",children:Object(g.jsx)("input",{onChange:function(e){v(e.target.value)},placeholder:"detail"})})]}),Object(g.jsxs)(f.a.Footer,{children:[Object(g.jsx)("button",{type:"submit",className:"btn btn-primary",children:"\uba54\ub274 \ucd94\uac00"}),Object(g.jsx)(x.a,{className:"btn btn-secondary",onClick:e.onHide,children:"Close"})]})]})}))}var M=function(e){var t=Object(c.useState)([]),n=Object(i.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(!1),o=Object(i.a)(s,2),l=o[0],u=o[1],b=Object(c.useState)(!1),h=Object(i.a)(b,2),f=h[0],x=h[1],v=function(){var t=Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("\uc810\ud3ec\ub97c \uc9c0\uc6b8\uae4c\uc694?")){t.next=10;break}return t.next=4,m.doc("stores/".concat(e.store.id)).delete();case 4:return t.next=6,m.collection("markers").doc(O.currentUser.uid).delete();case 6:return t.next=8,m.collection("menus").where("storeId","==",e.store.id);case 8:t.sent.get().then((function(e){e.forEach((function(e){e.ref.delete()}))}));case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){m.collection("menus").where("storeId","==",e.store.id).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(p.a)({id:e.id},e.data())}));r(t)}))}),[e.store.id]),Object(g.jsx)(S.a,{className:"text-center",border:"warning",style:{width:"95%",display:"inline-block",margin:"auto "},children:Object(g.jsx)(S.a.Body,{children:Object(g.jsxs)("div",{className:"store-main",children:[e.isOwner?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h4",{children:e.store.storeName}),Object(g.jsx)("h5",{children:e.store.storeType}),Object(g.jsx)("h5",{children:Object(g.jsx)("a",{href:e.store.adWeb,children:"\ub354\ubcf4\uae30"})}),Object(g.jsx)("h5",{children:Object(g.jsx)("a",{href:"/store/"+e.store.userId,children:"\uba54\ub274\ud310 \ubbf8\ub9ac\ubcf4\uae30"})}),Object(g.jsx)("button",{className:"btn btn-primary",onClick:function(){x(!f)},children:"\uc815\ubcf4 \uc218\uc815"}),f&&Object(g.jsx)(E,{storeName:e.store.storeName,storeType:e.store.storeType,adWeb:e.store.adWeb,storeId:e.store.id,setEditStore:x,show:function(){x(!0)},onHide:function(){x(!1)}}),Object(g.jsx)("button",{className:"btn btn-primary",onClick:function(){u(!l)},children:"\uba54\ub274 \ucd94\uac00"}),Object(g.jsx)("button",{className:"btn btn-primary-del ",onClick:function(){v()},children:"\uc810\ud3ec \uc81c\uac70"}),0===a.length?null:Object(g.jsx)("h4",{children:"Menu"}),a.map((function(t){return Object(g.jsx)("div",{className:"menu-display",children:Object(g.jsx)(I,{menuId:t.id,menu:t,store:e.store,isStore:t.storeId===e.store.id})})}))]}):null,l?Object(g.jsx)(L,{store:e.store,userObj:e.userObj,show:function(){u(!0)},onHide:function(){u(!1)}}):null]})})})},P=window.kakao;var B=function(e){return Object(c.useEffect)((function(){var t=document.getElementById("pfMap"),n={center:new P.maps.LatLng(33.450701,126.570667),level:7},c=new P.maps.Map(t,n),a=null,r=null,s=null,i=null,o=null,l=null,u=null,b=null;function h(e){if(navigator.geolocation)navigator.geolocation.getCurrentPosition((function(t){var n=t.coords.latitude,a=t.coords.longitude;i=new P.maps.LatLng(n,a);r=f(i,'<div style="padding:5px;">\ud604\uc7ac \uc704\uce58</div>',y),s=x(r),console.log("cloneMarker() returned,",s.getPosition()),console.log(r?"gps O":"gps X"),S(r),c.setCenter(i),e&&p(s)}));else{i=new P.maps.LatLng(33.450701,126.570667);r=f(i,"\uc704\uce58 \uc815\ubcf4\ub97c \uc0ac\uc6a9\ud560\uc218 \uc5c6\uc5b4\uc694..",y),s=x(r),console.log(r?"else O":"else X"),S(r),c.setCenter(i),e&&p(s)}}function p(e){new Promise((function(e,t){e(function(e){return w.apply(this,arguments)}(o))})).then((function(t){t?(console.log("YES, ",t),function(e,t,n){N(e,t),S(e)}(e,t)):(console.log("NO"),g(e=x(r)))}))}function f(e,t,n){var c=new P.maps.Marker({position:e});if(k(c,t),n){var a=new P.maps.MarkerImage(n,new P.maps.Size(35,35),new P.maps.Point(13,34));c.setImage(a)}return c}function x(e){var t=new P.maps.Marker({position:e?e.getPosition():null});return C(t),k(t,"\ud2b8\ub7ed \uc704\uce58"),console.log("cloneMarker() returning new marker"),t}function g(e){return v.apply(this,arguments)}function v(){return(v=Object(j.a)(d.a.mark((function t(n){var c,a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.hasStore){t.next=2;break}return t.abrupt("return");case 2:return c=n.getPosition().getLat(),a=n.getPosition().getLng(),r=O.currentUser.uid,t.next=7,m.collection("markers");case 7:t.sent.doc(r).set({lat:c,lng:a,storeName:l,adWeb:u,storeType:b,userId:r});case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(){return(w=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t);case 2:if(!((n=e.sent)instanceof P.maps.LatLng)){e.next=5;break}return e.abrupt("return",n);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return new Promise((function(t,n){var c=m.collection("markers").doc(e),a=null;c.get().then((function(e){e.data()&&null!=e.data()?(a=new P.maps.LatLng(e.data().lat,e.data().lng),t(a)):t(null)})).catch((function(e){console.log("error getting doc: ",e),n(new Error(e))}))}))}function N(e,t){t instanceof P.maps.LatLng&&e.setPosition(t)}function k(e,t){var n,r=t;a=new P.maps.InfoWindow({content:r,removable:!0}),P.maps.event.addListener(e,"click",function(e,t,n){return function(){n.open(e,t)}}(c,e,a)),P.maps.event.addListener(c,"click",(n=a,function(){n.close()}))}function S(e,t){e.setMap(c),t&&e.getMap().setCenter(e.getPosition())}function C(e){e&&null!=e&&e.setMap(null)}new Promise((function(e,t){o=O.currentUser.uid,m.collection("stores").where("userId","==",o).onSnapshot((function(n){var c=n.docs[0];if(c){var a=n.docs[0].data().storeName;console.log("on init(), storeName:",a),a&&null!=a&&(l=n.docs[0].data().storeName,u=n.docs[0].data().adWeb,b=n.docs[0].data().storeType,n.docs[0].data().userId,e(c.data()))}else h(!1),t(new Error("errrrr"))}))})).then((function(e){console.log("data.storeName =",e.storeName,"data.adWeb =",e.adWeb,"user_id =",e.userId),h(!0)})).catch((function(e){console.log("error: ",e)})),P.maps.event.addListener(c,"click",(function(e){console.log(e.latLng);var t=e.latLng;window.confirm("\uc0c8 \uc704\uce58\ub85c \ubcc0\uacbd\ud560\uae4c\uc694?")&&null!==s&&t!==s.getPosition()&&t!==r.getPosition()&&(C(s),N(s,t),g(s),S(s,"\ud2b8\ub7ed \uc704\uce58"))}))}),[]),Object(g.jsx)("div",{className:"profile-map",id:"pfMap",style:{width:"100%",height:"100%"}})};function F(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(""),o=Object(i.a)(s,2),l=o[0],u=o[1],b=Object(c.useState)(""),h=Object(i.a)(b,2),O=h[0],v=h[1],w=function(){var t=Object(j.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,m.collection("stores").add({storeName:a,storeType:l,adWeb:O,userId:e.userObj.uid});case 4:e.setStoreAddModal(!1),alert("STORE Created"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),alert(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(g.jsx)(f.a,Object(p.a)(Object(p.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:Object(g.jsx)("form",{onSubmit:w,children:Object(g.jsxs)("div",{className:"store-add-modal",children:[Object(g.jsx)(f.a.Header,{closeButton:!0,children:Object(g.jsx)(f.a.Title,{id:"contained-modal-title-vcenter",children:"\uc810\ud3ec \ucd94\uac00"})}),Object(g.jsxs)(f.a.Body,{children:[Object(g.jsx)("div",{className:"store-add-input",children:Object(g.jsx)("input",{onChange:function(e){r(e.target.value)},placeholder:"\uc0c1\ud638\uba85",required:!0,pattern:".*\\S+.*",title:"This field is required"})}),Object(g.jsx)("div",{className:"store-add-input",children:Object(g.jsx)("input",{onChange:function(e){u(e.target.value)},placeholder:"\uc74c\uc2dd\uce74\ud14c\uace0\ub9ac"})}),Object(g.jsx)("div",{className:"store-add-input",children:Object(g.jsx)("input",{onChange:function(e){v(e.target.value)},placeholder:"\uc778\uc2a4\ud0c0url"})})]}),Object(g.jsxs)(f.a.Footer,{children:[Object(g.jsx)("div",{className:"store-add-input",children:Object(g.jsx)("button",{type:"submit",className:"btn btn-primary",children:"\uc810\ud3ec \ub4f1\ub85d"})}),Object(g.jsx)(x.a,{className:"btn btn-secondary",onClick:e.onHide,children:"Close"})]})]})})}))}var G=function(e){var t=Object(c.useState)([]),n=Object(i.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(!1),o=Object(i.a)(s,2),l=o[0],u=o[1];return Object(c.useEffect)((function(){m.collection("stores").where("userId","==",O.currentUser.uid).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(p.a)({id:e.id},e.data())}));r(t)}))}),[]),Object(g.jsxs)("div",{className:"profile-main",children:[Object(g.jsxs)("h1",{children:[" ",O.currentUser.displayName,"'s Profile"]}),Object(g.jsx)("div",{className:"profile-map-container",children:Object(g.jsx)(B,{hasStore:0===a.length})}),0===a.length?Object(g.jsx)("div",{className:"text-center mt-2",children:Object(g.jsx)("button",{className:"btn btn-primary",onClick:function(){u(!0)},children:"\uc810\ud3ec \ucd94\uac00"})}):null,l?Object(g.jsx)(F,{setStoreAddModal:u,userObj:e.userObj,show:function(){u(!0)},onHide:function(){u(!1)}}):null,Object(g.jsx)(g.Fragment,{children:a.map((function(t){return Object(g.jsx)(M,{store:t,userObj:e.userObj,isOwner:e.userObj.uid===t.userId},t.id)}))})]})};n(76);var z=function(e){return Object(g.jsxs)("div",{className:"front-main",children:[Object(g.jsx)("h1",{children:"Front"}),Object(g.jsx)("div",{className:"front-video",children:Object(g.jsx)("video",{children:"\ud64d\ubcf4\uc6a9 \ube44\ub514\uc624"})}),Object(g.jsxs)("div",{className:"front-btn",children:[e.isLoggedIn?Object(g.jsx)(o.b,{to:"/edit",children:Object(g.jsxs)("button",{children:[O.currentUser.displayName," "]})}):Object(g.jsx)(o.b,{to:"/auth",children:Object(g.jsx)("button",{children:"\ub85c\uadf8\uc778 "})}),Object(g.jsx)(o.b,{to:"/home",children:Object(g.jsx)("button",{children:"\uc9c0\ub3c4\ubcf4\uae30 "})})]})]})},W=n(91),T=n(90);n(79);var D=function(e){var t=Object(l.f)();return Object(g.jsxs)(W.a,{className:"navbar",variant:"light",children:[Object(g.jsx)(W.a.Brand,{to:"/",children:"\uc6b0\ub9ac\ub3d9\ub124"}),e.isLoggedIn?Object(g.jsxs)(T.a,{className:"mr-auto",children:[Object(g.jsx)(T.a.Link,{as:o.b,to:"/home",children:"Home"}),Object(g.jsx)(T.a.Link,{as:o.b,to:"/profile",children:"Profile"}),Object(g.jsxs)(T.a.Link,{as:o.b,to:"/profile",onClick:function(){O.signOut(),t.push("/front")},children:["log out"," "]})]}):Object(g.jsxs)(T.a,{className:"mr-auto",children:[Object(g.jsx)(T.a.Link,{as:o.b,to:"/home",children:"Home"}),Object(g.jsx)(T.a.Link,{as:o.b,to:"/auth",children:"log in "})]})]})};n(58);var R=function(e){var t=Object(c.useState)([]),n=Object(i.a)(t,2),a=n[0],r=n[1];return console.log(a),Object(c.useEffect)((function(){m.collection("menus").where("storeId","==",e.storeId).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(p.a)({id:e.id},e.data())}));r(t)}))}),[]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{children:"menudetail"}),a.map((function(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(S.a,{className:"display-menu mr-2 mt-2 scroll",border:"warning",style:{width:"12em",display:"inline-block"},children:Object(g.jsxs)(S.a.Body,{children:[Object(g.jsxs)("h5",{style:{fontSize:"1em"},children:[e.menuName," "]}),Object(g.jsxs)("h5",{style:{fontSize:"0.8em"},children:[e.price," "]}),Object(g.jsxs)("h5",{style:{fontSize:"0.7em"},children:[e.detail," "]})]})})})}))]})};var Q=function(){var e=Object(l.g)().id,t=Object(c.useState)([]),n=Object(i.a)(t,2),a=n[0],r=n[1];return console.log("store",a),Object(c.useEffect)((function(){m.collection("stores").where("userId","==",e).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(p.a)({id:e.id},e.data())}));r(t)}))}),[]),Object(g.jsx)(g.Fragment,{children:a.map((function(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(S.a,{className:"display-store text-center",style:{width:"90%",margin:"auto "},children:Object(g.jsxs)(S.a.Body,{children:[Object(g.jsxs)(S.a.Title,{children:[" ",e.storeName," "]}),Object(g.jsx)(S.a.Subtitle,{className:"mb-2 text-muted",children:Object(g.jsx)("h6",{children:e.storeType})}),Object(g.jsx)(S.a.Text,{children:Object(g.jsxs)("h6",{children:[" ",Object(g.jsxs)("a",{href:e.adWeb,children:[" ",e.storeName,"' SNS "]})]})}),Object(g.jsx)(R,{storeId:e.id})]})})})}))})},H=function(e){return Object(g.jsxs)(o.a,{children:[Object(g.jsx)(D,{isLoggedIn:e.isLoggedIn}),Object(g.jsxs)(l.c,{children:[Object(g.jsx)(l.a,{exact:!0,path:"/",children:Object(g.jsx)(z,{isLoggedIn:e.isLoggedIn})}),Object(g.jsx)(l.a,{exact:!0,path:"/home",children:Object(g.jsx)(k,{})}),Object(g.jsx)(l.a,{exact:!0,path:"/store/:id",children:Object(g.jsx)(Q,{})}),e.isLoggedIn?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(l.a,{exact:!0,path:0,children:Object(g.jsx)(G,{userObj:e.userObj})})}):Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(l.a,{exact:!0,path:0,children:Object(g.jsx)(w,{})})})]})]})};n(82);var J=function(){return Object(g.jsxs)("div",{className:"footer-main",children:["\xa9",(new Date).getFullYear()," \uc6b0\ub9ac\ub3d9\ub124"]})};var U=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(i.a)(r,2),o=s[0],l=s[1],u=Object(c.useState)(null),d=Object(i.a)(u,2),j=d[0],b=d[1];return Object(c.useEffect)((function(){O.onAuthStateChanged((function(e){e?(l(!0),b(e)):l(!1),a(!0)}))}),[]),Object(g.jsxs)(g.Fragment,{children:[n?Object(g.jsx)(H,{isLoggedIn:o,userObj:j}):"waiting for firebase...",Object(g.jsx)(J,{})]})};n(83);s.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(U,{})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.bd5110e4.chunk.js.map